---
phase: 23-full-en-fr-language-toggle
plan: 03
type: execute
wave: 2
depends_on: ["23-01", "23-02"]
files_modified:
  - src/app/board/page.tsx
  - src/components/board/interactive-board.tsx
  - src/components/board/order-card.tsx
  - src/components/board/assignee-filter.tsx
  - src/components/board/draggable-order-card.tsx
  - src/app/board/today/page.tsx
autonomous: true

must_haves:
  truths:
    - "Board page title, menu items, and action buttons all use t() translation calls"
    - "Kanban column headers are dynamically translated via useTranslations()"
    - "Order cards show translated labels for assignee, due date, order number"
    - "Assignee filter shows translated 'Unassigned' text"
    - "All board toast messages and error messages use t() calls"
    - "Today's view filter uses translated 'All' text"
  artifacts:
    - path: "src/app/board/page.tsx"
      provides: "Translated board page with all 21+ strings via t()"
      contains: "useTranslations"
    - path: "src/components/board/interactive-board.tsx"
      provides: "Dynamic COLUMNS array using t() for titles and descriptions"
      contains: "useTranslations"
    - path: "src/components/board/order-card.tsx"
      provides: "Translated order card labels"
      contains: "useTranslations"
  key_links:
    - from: "src/app/board/page.tsx"
      to: "locales/en.json"
      via: "useTranslations('board')"
      pattern: "t\\('(title|viewModes|menu|actions|errors|success)"
    - from: "src/components/board/interactive-board.tsx"
      to: "locales/en.json"
      via: "useTranslations('board.columns')"
      pattern: "t\\('(pending|working|done|ready|delivered)"
---

<objective>
Migrate all board-related components from hardcoded strings to useTranslations(). This covers the board page (21+ strings), interactive board (5 column titles + descriptions), order card, assignee filter, draggable order card, and today's board view.

Purpose: The board is the most string-dense area of the app with 21+ hardcoded strings. Completing board translation first covers the most visible surface area.

Output: All 6 board-related files use t() for every user-facing string.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-full-en-fr-language-toggle/23-RESEARCH.md
@.planning/phases/23-full-en-fr-language-toggle/23-01-SUMMARY.md
@.planning/phases/23-full-en-fr-language-toggle/23-02-SUMMARY.md

@src/app/board/page.tsx
@src/components/board/interactive-board.tsx
@src/components/board/order-card.tsx
@src/components/board/assignee-filter.tsx
@src/components/board/draggable-order-card.tsx
@src/app/board/today/page.tsx
@locales/en.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Translate board page and interactive board</name>
  <files>
    src/app/board/page.tsx
    src/components/board/interactive-board.tsx
  </files>
  <action>
    **src/app/board/page.tsx** (client component - 'use client'):

    1. Add import: `import { useTranslations } from 'next-intl';`
    2. Add at top of component function: `const t = useTranslations('board');`
    3. Replace ALL hardcoded strings with t() calls. Specific replacements from research:

    - Line ~217 "Cannot mark as done: Please record work hours first." → `t('errors.workTimeRequired')`
    - Line ~248 "Unable to load orders" → `t('errors.loadFailed')`
    - Line ~251 "Try Again" → `t('common.tryAgain')` — Wait, use `const tc = useTranslations('common')` for common strings, then `tc('tryAgain')`
    - Line ~264 "Exported tasks for ${seamstressName}" → `t('success.exported', { name: seamstressName })`
    - Line ~266 "Export failed" → `t('errors.exportFailed')`
    - Line ~270 "Export failed: Network error" → `t('errors.networkError')`
    - Line ~281 "Orders exported" → `t('success.ordersExported')`
    - Line ~283/300 "Export failed" → `t('errors.exportFailed')`
    - Line ~287/304 "Export failed: Network error" → `t('errors.networkError')`
    - Line ~298 "Capacity exported" → `t('success.capacityExported')`
    - Line ~350 "Tableau de Production" → `t('title')`
    - Line ~361 "Board" → `t('viewModes.board')`
    - Line ~370 "List" → `t('viewModes.list')`
    - Line ~416 "Charge de Travail" → `t('menu.workload')`
    - Line ~422 "Commandes Archivees" → `t('menu.archived')`
    - Line ~428 "Export Orders" → `t('menu.exportOrders')`
    - Line ~432 "Export Capacity" → `t('menu.exportCapacity')`
    - Line ~437 "Nouvelle Commande" → `t('actions.newOrder')`
    - Line ~480/491 "Export Work List" → `t('actions.exportWorkList')`

    4. Use two translation hooks if needed: `const t = useTranslations('board')` and `const tc = useTranslations('common')` for common strings.

    **src/components/board/interactive-board.tsx** (client component - 'use client'):

    1. Add import: `import { useTranslations } from 'next-intl';`
    2. Add at top of component function: `const t = useTranslations('board.columns');`
    3. Replace the COLUMNS constant from a static array to a dynamic one INSIDE the component body:
    ```typescript
    const COLUMNS = [
      { id: 'pending', title: t('pending'), description: t('descriptions.pending') },
      { id: 'working', title: t('working'), description: t('descriptions.working') },
      { id: 'done', title: t('done'), description: t('descriptions.done') },
      { id: 'ready', title: t('ready'), description: t('descriptions.ready') },
      { id: 'delivered', title: t('delivered'), description: t('descriptions.delivered') },
    ];
    ```

    IMPORTANT: Move the COLUMNS definition INSIDE the component function (after the useTranslations hook), since t() can only be called inside a component/hook body. If COLUMNS is currently defined outside the component as a module-level constant, it MUST be moved inside.
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - No hardcoded English or French strings remain in board/page.tsx (grep for quoted strings)
    - COLUMNS array uses t() calls instead of static strings
    - Run broad grep to catch ANY remaining user-facing quoted strings: `grep -rn '"[A-Z]' src/app/board/page.tsx src/components/board/interactive-board.tsx | grep -v 'import\|className\|href\|data-\|console\.\|Content-Type\|application/json\|/api/'` — must return zero UI string matches
  </verify>
  <done>
    Board page has 0 hardcoded strings — all 21+ strings use t() from useTranslations('board'). Interactive board COLUMNS array uses dynamic t() calls for all 5 column titles and descriptions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Translate order card, assignee filter, draggable card, and today view</name>
  <files>
    src/components/board/order-card.tsx
    src/components/board/assignee-filter.tsx
    src/components/board/draggable-order-card.tsx
    src/app/board/today/page.tsx
  </files>
  <action>
    **src/components/board/order-card.tsx:**

    1. This file has a commented-out useTranslations import (line ~5 per research). UNCOMMENT it.
    2. Add `const t = useTranslations('board.card');` at top of component function
    3. Replace all hardcoded strings:
       - "Some items unassigned" → `t('someUnassigned')`
       - Any other card labels → use appropriate t() keys
    4. Check if this is a client or server component. If no 'use client' directive:
       - If it's NOT async: useTranslations() works directly
       - If it IS async: use getTranslations() from 'next-intl/server'

    **src/components/board/assignee-filter.tsx:**

    1. Add `import { useTranslations } from 'next-intl';`
    2. Add `const t = useTranslations('board.filter');`
    3. Replace "Unassigned" → `t('unassigned')`

    **src/components/board/draggable-order-card.tsx:**

    1. Add `import { useTranslations } from 'next-intl';`
    2. Add `const t = useTranslations('board.card');`
    3. Replace "Unassigned items" → `t('unassignedItems')`
    4. Replace "Unassigned" → `t('noAssignee')`

    **src/app/board/today/page.tsx:**

    1. Add `import { useTranslations } from 'next-intl';`
    2. Add `const t = useTranslations('board.today');`
    3. Replace "Tous" or "All" → `t('all')`
    4. Replace any other hardcoded strings with t() calls

    For EACH file, verify it's using the correct hook:
    - Client components ('use client'): useTranslations() from 'next-intl'
    - Async server components: getTranslations() from 'next-intl/server'
    - Non-async server components: useTranslations() from 'next-intl'
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - No hardcoded "Unassigned", "Some items", or "Tous" remain in any of these files
    - All 4 files import and use useTranslations (or getTranslations for async)
    - Run broad grep to catch ANY remaining user-facing quoted strings: `grep -rn '"[A-Z]' src/components/board/order-card.tsx src/components/board/assignee-filter.tsx src/components/board/draggable-order-card.tsx src/app/board/today/page.tsx | grep -v 'import\|className\|href\|data-\|console\.\|Content-Type\|/api/'` — must return zero UI string matches
  </verify>
  <done>
    Order card, assignee filter, draggable order card, and today view all use t() for every user-facing string. Zero hardcoded strings remain in board-related files.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. `grep -rn '"Tableau\|"Board"\|"List"\|"Charge\|"Archivees\|"Export Orders\|"Export Capacity\|"Nouvelle\|"Export Work\|"Unable to\|"Try Again\|"Export failed\|"Network error\|"Unassigned\|"Some items\|"Tous"' src/app/board/ src/components/board/` returns no matches (all replaced with t())
3. All 6 board files have useTranslations import
</verification>

<success_criteria>
- All 6 board-related files use useTranslations() or getTranslations()
- Board page: 21+ hardcoded strings replaced with t() calls
- Interactive board: COLUMNS array dynamically translated
- Order card: commented useTranslations uncommented and used
- Assignee filter: "Unassigned" translated
- Draggable card: "Unassigned" variants translated
- Today view: "Tous/All" translated
- TypeScript compiles clean
</success_criteria>

<output>
After completion, create `.planning/phases/23-full-en-fr-language-toggle/23-03-SUMMARY.md`
</output>
