---
phase: 23-full-en-fr-language-toggle
plan: 05
type: execute
wave: 2
depends_on: ["23-01", "23-02"]
files_modified:
  - src/app/clients/[id]/page.tsx
  - src/app/admin/pricing/page.tsx
  - src/app/admin/measurements/page.tsx
  - src/app/admin/team/page.tsx
  - src/app/orders/history/page.tsx
  - src/app/auth/sign-in/page.tsx
  - src/app/dashboard/page.tsx
  - src/app/dashboard/analytics/page.tsx
  - src/app/calendar/page.tsx
  - src/components/payments/payment-form.tsx
  - src/components/team/team-management-modal.tsx
autonomous: true

must_haves:
  truths:
    - "Admin pricing page table headers and titles use t() calls"
    - "Admin measurements page loading, retry, and empty states use t() calls"
    - "Admin team page role labels use t() calls"
    - "Client detail page back button, loading, and empty states use t() calls"
    - "Order history status dropdown options use t() calls"
    - "Auth sign-in page strings use t() calls"
    - "Dashboard section titles use t() calls"
    - "Payment form prompts use t() calls"
    - "Team management modal labels use t() calls"
    - "Dashboard analytics page loading text and chart labels use t() calls"
    - "Calendar page toast messages, 'Assign to Me', and fallback labels use t() calls"
  artifacts:
    - path: "src/app/admin/pricing/page.tsx"
      provides: "Translated admin pricing page"
      contains: "useTranslations"
    - path: "src/app/clients/[id]/page.tsx"
      provides: "Translated client detail page"
      contains: "useTranslations|getTranslations"
    - path: "src/app/orders/history/page.tsx"
      provides: "Translated order history page"
      contains: "useTranslations"
  key_links:
    - from: "src/app/admin/pricing/page.tsx"
      to: "locales/en.json"
      via: "useTranslations('admin.pricing')"
      pattern: "t\\('(title|description|headers)"
    - from: "src/app/orders/history/page.tsx"
      to: "locales/en.json"
      via: "useTranslations('statuses')"
      pattern: "t\\('(pending|working|done|ready|delivered)"
---

<objective>
Migrate all admin pages, client detail page, order history, auth, dashboard, payment form, and team modal from hardcoded strings to useTranslations(). These are the "medium priority" and remaining pages from the research audit.

Purpose: These pages round out the translation coverage. While less string-dense than board and intake, they still contain visible hardcoded strings that break the bilingual experience.

Output: All 9 files use t() for every user-facing string.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-full-en-fr-language-toggle/23-RESEARCH.md
@.planning/phases/23-full-en-fr-language-toggle/23-01-SUMMARY.md
@.planning/phases/23-full-en-fr-language-toggle/23-02-SUMMARY.md

@src/app/clients/[id]/page.tsx
@src/app/admin/pricing/page.tsx
@src/app/admin/measurements/page.tsx
@src/app/admin/team/page.tsx
@src/app/orders/history/page.tsx
@src/app/auth/sign-in/page.tsx
@src/app/dashboard/page.tsx
@src/components/payments/payment-form.tsx
@src/components/team/team-management-modal.tsx
@locales/en.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Translate admin pages and client detail page</name>
  <files>
    src/app/admin/pricing/page.tsx
    src/app/admin/measurements/page.tsx
    src/app/admin/team/page.tsx
    src/app/clients/[id]/page.tsx
  </files>
  <action>
    **src/app/admin/pricing/page.tsx:**

    1. Add import: `import { useTranslations } from 'next-intl';` (or getTranslations if async)
    2. Add translation hooks: `const t = useTranslations('admin.pricing');`
    3. Replace hardcoded strings:
       - Lines ~464-465 "Services", "Gérer les services et les prix" → `t('title')`, `t('description')`
       - Lines ~424-430 table headers (Name, Category, Price, Description, Minutes, Icon) → `t('headers.name')`, `t('headers.category')`, etc.
       - Any other hardcoded UI labels, button text, empty states
    4. Check if this is async or client component and use appropriate hook

    **src/app/admin/measurements/page.tsx:**

    1. Add import: `import { useTranslations } from 'next-intl';` (or getTranslations if async)
    2. Add: `const t = useTranslations('admin.measurements');` and `const tc = useTranslations('common');`
    3. Replace hardcoded strings:
       - Line ~305 "Chargement..." → `tc('loading')`
       - Line ~316 "Réessayer" → `t('retry')` or `tc('tryAgain')`
       - Line ~450 "Aucun champ de mesure dans cette catégorie" → `t('noFields')`
       - Any other labels, headers, buttons

    **src/app/admin/team/page.tsx:**

    1. Add import: `import { useTranslations } from 'next-intl';` (or getTranslations if async)
    2. Add: `const t = useTranslations('admin.team');` and `const tr = useTranslations('roles');`
    3. Replace "Rôle" label → `tr('label')`
    4. Replace any other hardcoded strings (team member names are dynamic - leave those)

    **src/app/clients/[id]/page.tsx:**

    1. Determine if async (likely — it fetches client data). If async: use `const t = await getTranslations('clients');` from 'next-intl/server'
    2. If it's a client component ('use client'): use `const t = useTranslations('clients');`
    3. Replace hardcoded strings:
       - Line ~135 "Chargement..." → `tc('loading')` (need common translations too)
       - Line ~149 "Retour aux clients" → `t('backToList')`
       - Line ~273 "Aucune commande" → `t('noOrders')`
       - Line ~281 "Commande #{order.order_number}" → `t('orderNumber', { number: order.order_number })`
       - Line ~313 "Aucune mesure enregistrée" → `t('noMeasurements')`
       - Any other labels
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - `grep -rn '"Chargement\|"Réessayer\|"Aucun\|"Retour\|"Rôle"\|"Services"\|"Gérer' src/app/admin/ src/app/clients/` returns no matches
    - All 4 files have translation imports and hooks
    - Run broad grep to catch ANY remaining user-facing quoted strings: `grep -rn '"[A-Z]' src/app/admin/pricing/page.tsx src/app/admin/measurements/page.tsx src/app/admin/team/page.tsx src/app/clients/\\[id\\]/page.tsx | grep -v 'import\|className\|href\|data-\|console\.\|Content-Type\|/api/\|type=\|value='` — must return zero UI string matches
  </verify>
  <done>
    Admin pricing page table headers and titles translated. Admin measurements page loading/retry/empty states translated. Admin team page role labels translated. Client detail page back button, loading, order number, and empty states all translated.
  </done>
</task>

<task type="auto">
  <name>Task 2: Translate order history, auth, dashboard, analytics, calendar, payment form, and team modal</name>
  <files>
    src/app/orders/history/page.tsx
    src/app/auth/sign-in/page.tsx
    src/app/dashboard/page.tsx
    src/app/dashboard/analytics/page.tsx
    src/app/calendar/page.tsx
    src/components/payments/payment-form.tsx
    src/components/team/team-management-modal.tsx
  </files>
  <action>
    **src/app/orders/history/page.tsx:**

    1. Add translation hook
    2. Replace status dropdown options:
       - Lines ~306-310: Pending, Working, Done, Ready, Delivered → use `ts('pending')`, `ts('working')`, etc. with `const ts = useTranslations('statuses');`
    3. Replace any other hardcoded labels (table headers, empty states)

    **src/app/auth/sign-in/page.tsx:**

    1. Add translation hook: `const t = useTranslations('auth');`
    2. Replace "Check your email" → `t('checkEmail')`
    3. Replace any other auth-related strings (sign in button, title, description)

    **src/app/dashboard/page.tsx:**

    1. Add translation hook: `const t = useTranslations('dashboard');`
    2. Replace "Profile" → `t('profile')`
    3. Replace "Orders" → `t('orders')`
    4. Replace "Analytics" → `t('analytics')`
    5. Replace any other section titles or labels

    **src/app/dashboard/analytics/page.tsx:**

    1. Add translation hook: `const t = useTranslations('dashboard');` and `const tc = useTranslations('common');`
    2. Replace "Loading analytics..." → `tc('loading')`
    3. Replace "Revenue" chart label → `t('revenue')` (add key to locale files)
    4. Replace any other hardcoded strings (chart labels, headers)

    **src/app/calendar/page.tsx:**

    1. Add translation hook: `const t = useTranslations('calendar');` and `const tc = useTranslations('common');`
    2. Replace hardcoded strings:
       - 'Failed to fetch orders' → `t('errors.fetchFailed')`
       - 'Unknown' (client/garment fallbacks) → `tc('unknown')`
       - 'Unassigned' → `tc('unassigned')` or board.filter.unassigned
       - 'Please sign in as staff first' → `t('errors.signInRequired')`
       - 'Failed to assign task' → `t('errors.assignFailed')`
       - 'Task assigned to you' → `t('success.assigned')`
       - 'Loading calendar...' → `tc('loading')`
       - 'Assign to Me' → `t('assignToMe')`
    3. Ensure corresponding keys are added in Plan 02 (locale JSON files)

    **src/components/payments/payment-form.tsx:**

    1. Add translation hook: `const t = useTranslations('payments');`
    2. Replace "Choose how much to pay now" → `t('chooseAmount')`
    3. Replace any other payment-related strings (buttons, labels, amounts)

    **src/components/team/team-management-modal.tsx:**

    1. Add translation hook: `const t = useTranslations('admin.team');` and `const tr = useTranslations('roles');` and `const tc = useTranslations('common');`
    2. Replace "Rôle" → `tr('label')`
    3. Replace "Chargement..." → `tc('loading')`
    4. Replace any other modal strings (title, buttons, labels)

    For EACH file:
    - Determine client vs server vs async server component
    - Use appropriate hook (useTranslations or getTranslations)
    - Check for ALL strings including conditional text, error messages, placeholder attributes, aria-labels
  </action>
  <verify>
    - `npx tsc --noEmit` compiles without errors
    - `grep -rn '"Check your email\|"Choose how\|"Profile"\|"Orders"\|"Analytics"\|"Pending"\|"Working"\|"Done"\|"Ready"\|"Delivered"\|"Rôle"\|"Chargement"' src/app/orders/ src/app/auth/ src/app/dashboard/ src/components/payments/ src/components/team/` returns no matches
    - All 7 files have translation imports and hooks
    - Run broad grep to catch ANY remaining user-facing quoted strings: `grep -rn '"[A-Z]' src/app/orders/history/page.tsx src/app/auth/sign-in/page.tsx src/app/dashboard/page.tsx src/app/dashboard/analytics/page.tsx src/app/calendar/page.tsx src/components/payments/payment-form.tsx src/components/team/team-management-modal.tsx | grep -v 'import\|className\|href\|data-\|console\.\|Content-Type\|/api/\|type=\|value='` — must return zero UI string matches
  </verify>
  <done>
    Order history status dropdown translated. Auth sign-in strings translated. Dashboard section titles translated. Dashboard analytics loading/chart labels translated. Calendar page toast messages and assign button translated. Payment form prompts translated. Team management modal labels translated. All 7 files use t() for every user-facing string.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. All 11 files in this plan have useTranslations or getTranslations imports
3. grep for hardcoded French/English strings across all 11 files returns no matches
4. Admin pricing table headers render from translation keys
5. Status dropdown values come from translation keys
</verification>

<success_criteria>
- Admin pricing: title, description, 6 table headers all translated
- Admin measurements: loading, retry, empty state translated
- Admin team: role label translated
- Client detail: back, loading, empty states, order number translated
- Order history: 5 status dropdown options translated
- Auth sign-in: email check message translated
- Dashboard: 3 section titles translated
- Payment form: amount prompt translated
- Team modal: role label, loading text translated
- Dashboard analytics: loading text and chart labels translated
- Calendar: toast messages, assign button, fallback labels translated
- TypeScript compiles clean
</success_criteria>

<output>
After completion, create `.planning/phases/23-full-en-fr-language-toggle/23-05-SUMMARY.md`
</output>
