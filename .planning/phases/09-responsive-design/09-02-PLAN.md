---
phase: 09-responsive-design
plan: 02
type: execute
wave: 2
depends_on: [09-01]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Complete order creation workflow works on iPhone Safari"
    - "All pages display correctly without horizontal scrolling"
    - "Touch targets are reliably tappable on real device"
    - "iOS input focus does not trigger zoom"
    - "iPad portrait displays all content without overflow"
  artifacts:
    - path: "src/app/layout.tsx"
      provides: "Viewport meta tag"
      contains: "viewport"
    - path: "src/components/navigation/mobile-bottom-nav.tsx"
      provides: "Mobile navigation"
      exports: ["MobileBottomNav"]
    - path: "src/app/globals.css"
      provides: "Mobile utilities and safe-area"
      contains: "safe-area-bottom"
  key_links:
    - from: "layout.tsx"
      to: "viewport meta"
      via: "export const viewport"
      pattern: "initialScale=1"
    - from: "mobile-bottom-nav.tsx"
      to: "safe-area-bottom"
      via: "CSS class"
      pattern: "safe-area-bottom"
    - from: "all pages"
      to: "mobile navigation"
      via: "layout.tsx import"
      pattern: "MobileBottomNav"
---

<objective>
Comprehensive iPhone Safari and iPad testing to validate all 8 responsive requirements (RES-01 through RES-08).

Purpose: Verify the complete responsive implementation on actual devices, focusing on real-world usage patterns and iOS-specific behaviors that cannot be fully tested in browser DevTools.

Output: Complete validation report confirming all requirements met, or identification of specific gaps requiring fixes.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/aymanbaig/Desktop/hottecouture-main/.planning/PROJECT.md
@/Users/aymanbaig/Desktop/hottecouture-main/.planning/ROADMAP.md
@/Users/aymanbaig/Desktop/hottecouture-main/.planning/STATE.md
@/Users/aymanbaig/Desktop/hottecouture-main/.planning/phases/09-responsive-design/09-RESEARCH.md
@/Users/aymanbaig/Desktop/hottecouture-main/.planning/phases/09-responsive-design/09-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Verify viewport meta tag and iOS zoom prevention</name>
  <files>
    src/app/layout.tsx
  </files>
  <action>
    Verify viewport configuration for RES-08 (iPhone Safari compatibility).

    Check layout.tsx for viewport export:
    ```typescript
    export const viewport: Viewport = {
      width: 'device-width',
      initialScale: 1,
      maximumScale: 5,
      userScalable: true,
    }
    ```

    Confirm:
    1. `initialScale: 1` (not 2.0 - prevents unintended zoom)
    2. `width: 'device-width'` (responsive width)
    3. `maximumScale: 5` or higher (allows user zoom for accessibility)
    4. `userScalable: true` (meets accessibility requirements)

    If viewport export is MISSING or incorrect:
    - Add proper viewport export to layout.tsx
    - Do NOT use old `<meta name="viewport">` tag (deprecated in Next.js 14+)

    Cross-check globals.css for iOS zoom prevention:
    - Verify input font-size: 16px rule exists in @media (max-width: 767px)
    - This prevents automatic zoom on input focus
  </action>
  <verify>
    grep -n "viewport" src/app/layout.tsx
    grep -n "initialScale" src/app/layout.tsx
    grep -n "font-size: 16px" src/app/globals.css
    npm run build
  </verify>
  <done>
    Viewport configured with initialScale=1 and input font-size 16px to prevent iOS auto-zoom.
  </done>
</task>

<task type="auto">
  <name>Verify mobile bottom nav integration in layout</name>
  <files>
    src/app/layout.tsx
  </files>
  <action>
    Verify mobile bottom navigation is properly integrated for RES-02.

    Research confirms MobileBottomNav component EXISTS at src/components/navigation/mobile-bottom-nav.tsx.

    Check layout.tsx for:
    1. Import statement: `import { MobileBottomNav } from '@/components/navigation/mobile-bottom-nav'`
    2. Component rendered in body: `<MobileBottomNav />`
    3. Main content area has bottom padding: `pb-16 md:pb-0` or similar (to prevent content hiding under nav)

    If mobile nav is NOT in layout.tsx:
    - Add import
    - Add component before closing body tag
    - Add pb-16 md:pb-0 to main content wrapper

    If mobile nav IS in layout.tsx:
    - Verify only - do not modify

    The component itself is already correct (uses md:hidden, safe-area-bottom, min-h-[44px] per research).
  </action>
  <verify>
    grep -n "MobileBottomNav" src/app/layout.tsx
    grep -n "pb-16" src/app/layout.tsx
    npm run build
  </verify>
  <done>
    MobileBottomNav integrated in layout.tsx with proper bottom padding on main content.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Verified iPhone Safari and iOS-specific configurations:
    - Viewport meta with initialScale=1 (prevents unintended zoom)
    - Input font-size 16px (prevents auto-zoom on focus)
    - Mobile bottom navigation integrated in layout
    - Safe-area insets applied for notch/home indicator

    Ready for comprehensive device testing.
  </what-built>
  <how-to-verify>
    **CRITICAL: Test on actual iPhone Safari, NOT Chrome DevTools emulation. iOS zoom behavior is Safari-specific.**

    **Prerequisites:**
    1. Start dev server: `npm run dev`
    2. Find local IP: `ifconfig | grep "inet " | grep -v 127.0.0.1`
    3. On iPhone: Open Safari → http://[your-ip]:3000

    **RES-01: Responsive breakpoint (< 768px)**
    Test on iPhone SE (smallest), iPhone 14 (standard), iPhone 14 Pro Max (largest)

    Navigate to each page:
    - [ ] /board - Kanban view loads, no horizontal scroll
    - [ ] /intake - Intake form loads, fields visible
    - [ ] /clients - Client list loads, cards visible
    - [ ] /calendar - Calendar loads without overflow

    **RES-02: Bottom tab bar on mobile**
    - [ ] Bottom nav visible with 4 tabs (Board, Intake, Clients, Calendar)
    - [ ] Active tab highlighted correctly
    - [ ] Tapping each tab navigates correctly
    - [ ] Nav positioned above home indicator (safe-area-bottom working)
    - [ ] Nav NOT visible when rotating to landscape (should hide on md+ breakpoint)

    **RES-03: Touch-friendly buttons (44px)**
    Test tapping with THUMB (not stylus - thumb needs larger target):
    - [ ] Bottom nav tabs are easily tappable
    - [ ] Order card "Manage Task" buttons tappable without precision
    - [ ] Intake form buttons (Next, Add to Order) tappable
    - [ ] Modal close button (X) tappable on first try
    - [ ] Quantity +/- buttons in garment selection tappable

    **RES-04: Form fields stack vertically**
    Go to /intake → Client step:
    - [ ] Name field full width (not side-by-side with another field)
    - [ ] Email field full width
    - [ ] Phone field full width
    - [ ] All inputs stack top-to-bottom

    **RES-05: Tables to cards on mobile**
    (No raw tables found in codebase - this requirement already met)
    - [ ] Order list on /board shows as cards, not table
    - [ ] Client list on /clients shows as cards, not table
    - [ ] Calendar events show as cards, not table rows

    **RES-06: Full-screen modals**
    On /board, tap any order card:
    - [ ] Modal fills entire screen edge-to-edge
    - [ ] No rounded corners on modal (rounded-none on mobile)
    - [ ] No margin around modal (mx-0 on mobile)
    - [ ] Modal content scrolls smoothly
    - [ ] Close button accessible at top
    - [ ] Safe area at bottom (content not hidden by home indicator)

    **RES-07: iPad portrait layout**
    Switch to iPad (820x1180 portrait):
    - [ ] /board page: Kanban columns fit without horizontal page scroll
    - [ ] Kanban columns themselves scroll horizontally (expected behavior)
    - [ ] Header fits without wrapping awkwardly
    - [ ] Filters visible (not hidden like on iPhone)
    - [ ] Modal is centered with max-width (not full-screen like iPhone)

    **RES-08: iPhone Safari specific**
    Critical iOS Safari behaviors:
    - [ ] Tap any input field → page does NOT zoom in (font-size 16px working)
    - [ ] Notch devices (iPhone 12+): Bottom nav not covered by home indicator
    - [ ] Notch devices: Top content not hidden by notch
    - [ ] Test in portrait and landscape orientations
    - [ ] Pull-to-refresh works (not blocked by kanban scroll)

    **End-to-End Workflow Test (RES-08)**
    Complete full order creation on iPhone Safari:
    1. [ ] Tap "Intake" in bottom nav → loads client step
    2. [ ] Fill client name, email, phone → tap "Next"
    3. [ ] Select garment type → choose service → set quantity
    4. [ ] Tap "Add to Order" → item appears in list
    5. [ ] Tap "Next" → pricing step loads
    6. [ ] Review pricing → tap "Create Order"
    7. [ ] Order created successfully → redirects to board
    8. [ ] New order appears in kanban column

    If all steps complete without issues: **RES-08 PASSED**

    **Failure Cases to Watch For:**
    - Horizontal scrolling anywhere except kanban columns = FAIL RES-01
    - Bottom nav covered by home indicator = FAIL RES-02
    - Buttons require precise tapping (hard to hit) = FAIL RES-03
    - Form fields side-by-side on iPhone = FAIL RES-04
    - Modal not full-screen on iPhone = FAIL RES-06
    - Page scrolls horizontally on iPad portrait = FAIL RES-07
    - Input focus causes zoom = FAIL RES-08
  </how-to-verify>
  <resume-signal>
    Report test results:

    **If all tests PASS:**
    Type "approved - all RES requirements met on iPhone Safari"

    **If any test FAILS:**
    Type "issues found: [specific issue]"

    Example: "issues found: Client form fields still side-by-side on iPhone, modal close button hard to tap"

    Be specific about:
    - Which device (iPhone SE, iPhone 14, iPad)
    - Which page (/board, /intake, etc.)
    - Which requirement failed (RES-01, RES-03, etc.)
    - What the actual behavior is vs expected
  </resume-signal>
</task>

</tasks>

<verification>
Automated checks:
- Viewport export exists with initialScale=1
- Input font-size 16px rule exists in globals.css
- MobileBottomNav imported and rendered in layout.tsx
- Build succeeds without errors

Manual verification (checkpoint):
- Complete order creation workflow works on iPhone Safari
- All 8 responsive requirements (RES-01 through RES-08) validated on real device
- No horizontal scrolling except kanban columns
- All touch targets easily tappable
- iOS-specific behaviors (zoom prevention, safe-area) working correctly
</verification>

<success_criteria>
1. Complete order workflow finishes on iPhone Safari without issues
2. All pages display correctly on iPhone SE (smallest screen)
3. No horizontal scrolling anywhere except kanban columns
4. All touch targets tappable with thumb on first try
5. iPad portrait displays board page without overflow
6. Input focus does NOT trigger iOS zoom
7. Bottom nav positioned correctly above home indicator
8. Modals full-screen on iPhone, centered on iPad
</success_criteria>

<output>
After completion, create `.planning/phases/09-responsive-design/09-02-SUMMARY.md` documenting:
- Device testing results (iPhone SE, iPhone 14, iPad Air portrait)
- All 8 RES requirements validation status
- Screenshots or video if any issues found
- Confirmation that Phase 9 is COMPLETE or list of remaining gaps
</output>
