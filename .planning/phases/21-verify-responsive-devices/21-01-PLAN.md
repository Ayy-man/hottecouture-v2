---
phase: 21-verify-responsive-devices
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/page.tsx
  - src/app/board/workload/page.tsx
  - src/app/board/today/page.tsx
  - src/app/clients/page.tsx
  - src/app/clients/[id]/page.tsx
  - src/app/admin/team/page.tsx
  - src/app/admin/pricing/page.tsx
  - src/app/admin/measurements/page.tsx
  - src/app/archived/page.tsx
  - src/app/labels/[orderId]/page.tsx
  - src/app/orders/history/page.tsx
  - src/app/portal/page.tsx
  - src/app/track/[id]/page.tsx
  - src/app/booking/page.tsx
  - src/app/dashboard/page.tsx
autonomous: true

must_haves:
  truths:
    - "All pages scroll vertically without content being cut off on any device"
    - "No page uses min-h-screen or h-screen inside the root overflow-hidden layout"
    - "iOS Safari address bar does not clip bottom content"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Home page with h-full instead of h-screen"
      contains: "h-full"
    - path: "src/app/board/workload/page.tsx"
      provides: "Workload page with h-full instead of h-screen"
      contains: "h-full"
  key_links:
    - from: "all 15 page files"
      to: "src/app/layout.tsx"
      via: "h-full flows from root layout grid cell"
      pattern: "h-full|flex-1 overflow-y-auto"
---

<objective>
Fix layout overflow issues on 15 pages that use `min-h-screen` or `h-screen` inside the root layout's `overflow-hidden` grid cell. These pages have content cut off below the fold with no scrollbar.

Purpose: The root layout uses `h-dvh overflow-hidden` with CSS grid. Pages using `min-h-screen` expand beyond the viewport but overflow is hidden, making content unreachable. This is the single most impactful fix -- it affects ALL devices on 15 pages.

Output: All 15 pages use `h-full flex flex-col` with `overflow-y-auto` on the scrollable child, fitting properly within the root layout grid.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/21-verify-responsive-devices/21-RESEARCH.md

Key reference: `src/app/layout.tsx` uses `h-dvh overflow-hidden` with CSS grid `grid-rows-[auto,1fr]`. The main area is `row-start-2 row-end-3 min-h-0 overflow-hidden`. Pages must use `h-full` to fill the grid cell, NOT `min-h-screen` or `h-screen`.

Working pattern (already correct in `src/app/status/page.tsx`):
```tsx
<div className="h-full flex flex-col overflow-hidden min-h-0">
  <div className="flex-1 min-h-0 overflow-y-auto">
    {/* scrollable content */}
  </div>
</div>
```
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix h-screen pages (C6, C7)</name>
  <files>
    src/app/page.tsx
    src/app/board/workload/page.tsx
  </files>
  <action>
    In `src/app/page.tsx` (home page):
    - Find the outermost div that has `h-screen` in its className
    - Replace `h-screen` with `h-full`
    - Keep all other classes unchanged

    In `src/app/board/workload/page.tsx`:
    - Find the outermost div that has `h-screen` in its className
    - Replace `h-screen` with `h-full`
    - Keep all other classes unchanged

    WHY: `h-screen` (100vh) creates a container equal to the full viewport height, but the root layout already constrains the page to a grid cell. On iOS Safari, 100vh includes the address bar, causing clipping. `h-full` fills the parent grid cell exactly.
  </action>
  <verify>Run `npx tsc --noEmit` and confirm no TypeScript errors. Grep both files to confirm no remaining `h-screen` usage.</verify>
  <done>Both pages use `h-full` instead of `h-screen`. TypeScript compiles clean.</done>
</task>

<task type="auto">
  <name>Task 2: Fix min-h-screen pages (C1, H5, H6, H7, H8, H9)</name>
  <files>
    src/app/board/today/page.tsx
    src/app/clients/page.tsx
    src/app/clients/[id]/page.tsx
    src/app/admin/team/page.tsx
    src/app/admin/pricing/page.tsx
    src/app/admin/measurements/page.tsx
    src/app/archived/page.tsx
    src/app/labels/[orderId]/page.tsx
    src/app/orders/history/page.tsx
    src/app/portal/page.tsx
    src/app/track/[id]/page.tsx
    src/app/booking/page.tsx
    src/app/dashboard/page.tsx
  </files>
  <action>
    For EACH of the 13 pages listed above, apply this transformation:

    **Pattern A** - If the page has a single wrapper div with `min-h-screen`:
    ```tsx
    // BEFORE:
    <div className="min-h-screen bg-gradient-to-br ...">
      <div className="container mx-auto px-4 py-8">
        {/* content */}
      </div>
    </div>

    // AFTER:
    <div className="h-full flex flex-col overflow-hidden bg-gradient-to-br ...">
      <div className="flex-1 overflow-y-auto">
        <div className="container mx-auto px-4 py-8">
          {/* content */}
        </div>
      </div>
    </div>
    ```

    **Pattern B** - If the page already has `flex flex-col` children with a header and content area:
    ```tsx
    // BEFORE:
    <div className="min-h-screen ...">
      <header>...</header>
      <main>...</main>
    </div>

    // AFTER:
    <div className="h-full flex flex-col overflow-hidden ...">
      <header>...</header>
      <main className="flex-1 overflow-y-auto">...</main>
    </div>
    ```

    **Key rules:**
    - Remove `min-h-screen` and replace with `h-full flex flex-col overflow-hidden`
    - The scrollable content area gets `flex-1 overflow-y-auto`
    - Keep ALL other classes (bg-gradient, py-8, etc.)
    - Do NOT change any component logic, just layout classes
    - For `src/app/labels/[orderId]/page.tsx`: also change `p-8` to `p-4 md:p-8` (fix H6 -- saves 16px padding on mobile)

    WHY: `min-h-screen` expands beyond the root layout's `overflow-hidden` grid cell, making content below the fold invisible with no scrollbar.
  </action>
  <verify>Run `npx tsc --noEmit` and confirm no TypeScript errors. Run `grep -r "min-h-screen" src/app/ --include="*.tsx" -l` and confirm only `src/app/print/tasks/page.tsx` remains (print page is intentionally full-height).</verify>
  <done>All 13 pages use `h-full flex flex-col overflow-hidden` with `overflow-y-auto` on scrollable content. Only `print/tasks/page.tsx` retains `min-h-screen`. TypeScript compiles clean.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no errors
2. `grep -r "min-h-screen" src/app/ --include="*.tsx" -l` returns only `src/app/print/tasks/page.tsx`
3. `grep -r "h-screen" src/app/ --include="*.tsx" -l` returns no results (or only non-layout uses like `max-h-screen`)
</verification>

<success_criteria>
- All 15 pages compile without TypeScript errors
- No page uses `min-h-screen` inside the root layout (except print page)
- No page uses `h-screen` inside the root layout
- Scrollable content areas have `overflow-y-auto`
</success_criteria>

<output>
After completion, create `.planning/phases/21-verify-responsive-devices/21-01-SUMMARY.md`
</output>
